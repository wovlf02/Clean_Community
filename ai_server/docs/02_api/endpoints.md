# π“‹ μ—”λ“ν¬μΈνΈ μƒμ„Έ

> κ° API μ—”λ“ν¬μΈνΈμ μƒμ„Έ λ…μ„Έ

---

## 1. GET `/` - μ„λ²„ μ •λ³΄

### μ„¤λ…
μ„λ²„ κΈ°λ³Έ μ •λ³΄λ¥Ό λ°ν™ν•©λ‹λ‹¤.

### μ”μ²­
```
GET /
```

### μ‘λ‹µ
```json
{
  "name": "Hate Speech Detection API",
  "version": "1.0.0",
  "description": "ν•κµ­μ–΄ νμ¤ ν‘ν„ νƒμ§€ API"
}
```

---

## 2. GET `/health` - μƒνƒ ν™•μΈ

### μ„¤λ…
μ„λ²„ λ° λ¨λΈ μƒνƒλ¥Ό ν™•μΈν•©λ‹λ‹¤.

### μ”μ²­
```
GET /health
```

### μ‘λ‹µ (μ •μƒ)
```json
{
  "status": "healthy",
  "models_loaded": true,
  "model_count": 3,
  "models": ["kcelectra", "soongsil", "roberta_base"]
}
```

### μ‘λ‹µ (λ¨λΈ λ―Έλ΅λ“)
```json
{
  "status": "unhealthy",
  "models_loaded": false,
  "model_count": 0,
  "models": []
}
```

---

## 3. POST `/analyze` - λ‹¨μΌ ν…μ¤νΈ λ¶„μ„

### μ„¤λ…
λ‹¨μΌ ν…μ¤νΈμ νμ¤ ν‘ν„μ„ λ¶„μ„ν•©λ‹λ‹¤.

### μ”μ²­

#### Headers
```
Content-Type: application/json
```

#### Body
```json
{
  "text": "λ¶„μ„ν•  ν…μ¤νΈμ…λ‹λ‹¤"
}
```

#### νλΌλ―Έν„°

| ν•„λ“ | νƒ€μ… | ν•„μ | μ„¤λ… |
|------|------|------|------|
| `text` | string | β… | λ¶„μ„ν•  ν…μ¤νΈ (1~1000μ) |

### μ‘λ‹µ

#### μ„±κ³µ (200)
```json
{
  "success": true,
  "data": {
    "is_toxic": true,
    "labels": ["μ—¬μ„±/κ°€μ΅±", "μ•…ν”/μ•μ„¤"],
    "scores": {
      "μ—¬μ„±/κ°€μ΅±": 0.8523,
      "λ‚¨μ„±": 0.0234,
      "μ„±μ†μμ": 0.0012,
      "μΈμΆ…/κµ­μ ": 0.0089,
      "μ—°λ Ή": 0.0156,
      "μ§€μ—­": 0.0045,
      "μΆ…κµ": 0.0023,
      "κΈ°νƒ€ νμ¤": 0.1234,
      "μ•…ν”/μ•μ„¤": 0.7891
    }
  }
}
```

#### μ‘λ‹µ ν•„λ“ μ„¤λ…

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| `is_toxic` | boolean | νμ¤ ν‘ν„ ν¬ν•¨ μ—¬λ¶€ |
| `labels` | array | νƒμ§€λ νμ¤ λΌλ²¨ λ©λ΅ |
| `scores` | object | κ° λΌλ²¨λ³„ ν™•λ¥  μ μ (0~1) |

#### μ—λ¬ (400)
```json
{
  "detail": [
    {
      "loc": ["body", "text"],
      "msg": "field required",
      "type": "value_error.missing"
    }
  ]
}
```

---

## 4. POST `/batch` - λ°°μΉ ν…μ¤νΈ λ¶„μ„

### μ„¤λ…
μ—¬λ¬ ν…μ¤νΈλ¥Ό ν• λ²μ— λ¶„μ„ν•©λ‹λ‹¤.

### μ”μ²­

#### Headers
```
Content-Type: application/json
```

#### Body
```json
{
  "texts": [
    "μ²« λ²μ§Έ ν…μ¤νΈ",
    "λ‘ λ²μ§Έ ν…μ¤νΈ",
    "μ„Έ λ²μ§Έ ν…μ¤νΈ"
  ]
}
```

#### νλΌλ―Έν„°

| ν•„λ“ | νƒ€μ… | ν•„μ | μ„¤λ… |
|------|------|------|------|
| `texts` | array | β… | λ¶„μ„ν•  ν…μ¤νΈ λ°°μ—΄ (1~100κ°) |

### μ‘λ‹µ

#### μ„±κ³µ (200)
```json
{
  "success": true,
  "data": [
    {
      "is_toxic": false,
      "labels": [],
      "scores": { ... }
    },
    {
      "is_toxic": true,
      "labels": ["μ•…ν”/μ•μ„¤"],
      "scores": { ... }
    },
    {
      "is_toxic": false,
      "labels": [],
      "scores": { ... }
    }
  ]
}
```

### μ ν•μ‚¬ν•­

| ν•­λ© | μ ν• |
|------|------|
| μµλ€ ν…μ¤νΈ μ | 100κ° |
| κ° ν…μ¤νΈ μµλ€ κΈΈμ΄ | 1000μ |

---

## 5. κ³µν†µ μ—λ¬ μ‘λ‹µ

### μ ν¨μ„± κ²€μ¦ μ‹¤ν¨ (400)
```json
{
  "detail": [
    {
      "loc": ["body", "text"],
      "msg": "ensure this value has at least 1 characters",
      "type": "value_error.any_str.min_length"
    }
  ]
}
```

### μ„λ²„ μ¤λ¥ (500)
```json
{
  "detail": "Internal server error"
}
```

### μ„λΉ„μ¤ μ΄μ© λ¶κ°€ (503)
```json
{
  "detail": "Models not loaded"
}
```

---

## π“ μ„±λ¥ μ°Έκ³ 

| ν•­λ© | κ°’ |
|------|------|
| λ‹¨μΌ μ”μ²­ ν‰κ·  μ‘λ‹µ μ‹κ°„ | ~100ms (CPU) |
| λ°°μΉ 100κ° ν‰κ·  μ‘λ‹µ μ‹κ°„ | ~3s (CPU) |
| λ™μ‹ μ”μ²­ μ²λ¦¬ | λΉ„λ™κΈ° μ§€μ› |
