/* components/chat/message-bubble/message-bubble.css */

/* 기본 메시지 컨테이너 */
.message-bubble {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  max-width: 75%;
  margin-bottom: 0.625rem;
}

/* 같은 발신자의 연속 메시지는 간격 줄임 */
.message-bubble + .message-bubble {
  margin-top: -0.25rem;
}

/* 다른 발신자 메시지 전에는 간격 늘림 */
.message-bubble--other + .message-bubble--own,
.message-bubble--own + .message-bubble--other {
  margin-top: 0.75rem;
}

/* 상대방 메시지: 좌측 정렬 */
.message-bubble--other {
  align-items: flex-start;
}

/* 내 메시지: 우측 정렬, 역방향 */
.message-bubble--own {
  flex-direction: row;
  margin-left: auto;
  align-items: flex-end;
  justify-content: flex-end;
}

/* 프로필 사진 영역 - 고정 너비 */
.message-bubble__avatar-wrapper {
  width: 32px;
  height: 32px;
  flex-shrink: 0;
  align-self: flex-start;
}

.message-bubble__avatar-placeholder {
  width: 32px;
  height: 32px;
}

/* 컨텐츠 영역 */
.message-bubble__content {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

/* 닉네임 */
.message-bubble__sender {
  font-size: 0.75rem;
  color: hsl(var(--muted-foreground));
  margin-bottom: 0.125rem;
}

/* 메시지 본문 + 메타 정보를 같은 라인에 배치 */
.message-bubble__row {
  display: flex;
  align-items: flex-end;
  gap: 0.5rem;
}

/* 메시지 본문 */
.message-bubble__body {
  padding: 0.625rem 1rem;
  border-radius: 1rem;
  font-size: 0.875rem;
  line-height: 1.5;
  word-break: break-word;
  white-space: pre-wrap;
}

/* 상대방 메시지 버블 스타일 */
.message-bubble--other .message-bubble__body {
  background-color: hsl(var(--muted));
  color: hsl(var(--foreground));
  border-bottom-left-radius: 0.25rem;
}

/* 내 메시지 버블 스타일 */
.message-bubble--own .message-bubble__body {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  border-bottom-right-radius: 0.25rem;
}

/* 메타 정보 (시간, 읽지않은수) */
.message-bubble__meta {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
  flex-shrink: 0;
  align-self: flex-end;
}

/* 상대방 메시지: 버블 우측에 메타 정보, 좌측 정렬 */
.message-bubble__meta--other {
  align-items: flex-start;
}

/* 내 메시지: 버블 좌측에 메타 정보, 우측 정렬 */
.message-bubble__meta--own {
  align-items: flex-end;
  order: -1; /* 버블 앞에 배치 */
}

/* 읽지 않은 참여자 수 */
.message-bubble__unread {
  font-size: 0.625rem;
  font-weight: 600;
  color: hsl(var(--primary));
}

/* 전송 시각 */
.message-bubble__time {
  font-size: 0.625rem;
  color: hsl(var(--muted-foreground));
}

/* 다크모드 가독성 향상 */
.dark .message-bubble__sender {
  color: hsl(40 15% 70%);
}

.dark .message-bubble__time {
  color: hsl(40 15% 60%);
}

/* 메시지 래퍼 */
.message-bubble-wrapper {
  width: 100%;
}

/* 컨텍스트 메뉴 */
.message-context-menu {
  min-width: 140px;
  padding: 0.375rem;
  border-radius: 0.75rem;
  box-shadow: 0 10px 40px -10px hsl(var(--foreground) / 0.2);
}

.message-context-menu__item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  font-size: 0.8125rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 150ms ease;
}

.message-context-menu__item:hover {
  background-color: hsl(var(--accent));
}

.message-context-menu__item--danger {
  color: hsl(0 65% 55%);
}

.message-context-menu__item--danger:hover {
  background-color: hsl(0 65% 55% / 0.1);
}

.message-context-menu__item--warning {
  color: hsl(25 95% 50%);
}

.message-context-menu__item--warning:hover {
  background-color: hsl(25 95% 50% / 0.1);
}

