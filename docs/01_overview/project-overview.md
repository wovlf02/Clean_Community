# 프로젝트 개요

**관련 문서**: [용어 정의](./glossary.md) | [기능 요구사항](../02_requirements/functional.md)

---

| 항목 | 내용 |
|------|------|
| **프로젝트명** | 감성 커뮤니티 (Emotion Community) |
| **버전** | 1.0.0 |
| **대상 사용자** | 일반 사용자 |
| **서비스 형태** | Web Application (SaaS) |

## 1. 프로젝트 소개

**감성 커뮤니티**는 AI 기반 감정분석 기술을 활용한 건강한 온라인 커뮤니티 플랫폼입니다. 사용자가 작성한 게시글, 댓글, 채팅 메시지를 실시간으로 분석하여 혐오 표현, 차별 발언 등 유해한 콘텐츠를 감지하고 건전한 커뮤니티 문화를 조성합니다.

## 2. 개발 배경

### 2.1 현재 문제점
- 온라인 커뮤니티 내 혐오 표현 및 차별 발언 증가
- 기존 키워드 기반 필터링의 한계
- 맥락을 이해하지 못하는 단순 필터링으로 인한 오탐
- 건강한 커뮤니티 문화 형성의 어려움

### 2.2 개발 목표
- AI 기반 멀티라벨 감정분석으로 정확한 유해 콘텐츠 감지
- 실시간 채팅 및 게시판 기능을 통한 활발한 커뮤니티 활동 지원
- 친구 관리 기능을 통한 소셜 네트워킹 강화
- 대시보드를 통한 활동 통계 및 인기 콘텐츠 시각화

## 3. 주요 기능

### 3.1 게시판 기능

| 기능 | 설명 |
|------|------|
| 게시글 CRUD | 게시글 작성, 조회, 수정, 삭제 |
| 댓글 시스템 | 댓글 및 대댓글 작성/수정/삭제 |
| 좋아요 | 게시글 좋아요 기능 |
| 공유 | 게시글 공유 (URL 복사, SNS 공유) |
| 첨부파일 | 사진 등 첨부파일 업로드 및 미리보기 |
| 조회수 | 게시글 조회수 집계 |
| 감정분석 | 작성 콘텐츠 실시간 AI 분석 |

### 3.2 채팅 기능

| 기능 | 설명 |
|------|------|
| 1:1 채팅 | 친구와 개인 채팅 |
| 그룹 채팅 | 다수 사용자 그룹 채팅방 |
| 메시지 타입 | 텍스트, 이모티콘, 사진 전송 지원 |
| 실시간 | WebSocket 기반 실시간 메시지 동기화 |
| 친구 연동 | 친구 관리 페이지에서 바로 1:1 채팅 시작 |
| 감정분석 | 메시지 실시간 AI 분석 |

### 3.3 친구 관리 기능

| 기능 | 설명 |
|------|------|
| 친구 추가 | 사용자 검색 후 친구 요청 |
| 친구 삭제 | 친구 목록에서 친구 삭제 |
| 친구 목록 | 친구 목록 조회 |
| 친구 검색 | 이름/아이디로 친구 검색 |
| 채팅 바로가기 | 친구 목록에서 1:1 채팅 즉시 시작 또는 기존 채팅방 이동 |

### 3.4 대시보드 기능

| 기능 | 설명 |
|------|------|
| 활동 통계 | 사용자별 게시글, 댓글, 채팅 활동 통계 |
| 인기 게시글 | 좋아요, 조회수 기반 인기 게시글 표시 |
| 최근 활동 | 최근 작성한 게시글, 댓글, 채팅 내역 |
| 시각화 | 차트/그래프를 통한 데이터 시각화 |

## 4. AI 감정분석 모델

### 4.1 모델 개요

3-모델 하이브리드 앙상블 아키텍처 기반의 한국어 혐오 표현 탐지 모델입니다.

| 항목 | 내용 |
|------|------|
| **형식** | PyTorch (.pt) 파일 |
| **서빙** | FastAPI 기반 추론 서버 |
| **입력** | 한국어 텍스트 문장 |
| **출력** | 9개 카테고리 다중 라벨 분류 결과 |
| **성능** | Hamming Accuracy 96.72%, F1-Macro 82.91% |

### 4.2 앙상블 모델 구성

| 모델 | 역할 | HuggingFace |
|------|------|-------------|
| **KcELECTRA** | 슬랭/욕설 전문가 | beomi/KcELECTRA-base |
| **SoongsilBERT** | 안정적 베이스라인 | soongsil-ai/soongsil-bert-base |
| **KLUE-RoBERTa** | 고맥락 의미론 전문가 | klue/roberta-base |

### 4.3 혐오 카테고리 분류 (9개)

| 카테고리 | 설명 | 예시 |
|----------|------|------|
| **여성/가족** | 여성 및 가족 관련 혐오 | "김치녀", "맘충" |
| **남성** | 남성 관련 혐오 | "한남충" |
| **성소수자** | LGBTQ+ 관련 혐오 | - |
| **인종/국적** | 인종 및 국적 관련 혐오 | "조선족", "짱깨" |
| **연령** | 연령 관련 혐오 | "틀딱", "급식충" |
| **지역** | 특정 지역 관련 혐오 | "홍어" |
| **종교** | 종교 관련 혐오 | "개독" |
| **기타 혐오** | 기타 유형의 혐오 | - |
| **악플/욕설** | 일반적인 악성 댓글 | 욕설, 비하 표현 |

### 4.4 클래스별 성능

| 클래스 | F1-Score | 분석 |
|--------|----------|------|
| 악플/욕설 | 89.9% | 우수 |
| 인종/국적 | 88.1% | 우수 |
| 여성/가족 | 85.2% | 양호 |
| 남성 | 83.4% | 양호 |
| 종교 | 81.2% | 양호 |
| 성소수자 | 79.8% | 보통 |
| 지역 | 76.5% | 보통 |
| 연령 | 72.3% | 개선 필요 |
| 기타 혐오 | 69.8% | 개선 필요 |

### 4.5 분석 흐름
```
[텍스트 입력]
     │
     ▼
[Next.js → FastAPI 요청]
     │
     ▼
[3-모델 앙상블 추론]
├── KcELECTRA (확률 벡터)
├── SoongsilBERT (확률 벡터)
└── RoBERTa-Base (확률 벡터)
     │
     ▼
[가중 소프트 보팅]
     │
     ▼
[클래스별 임계값 적용]
     │
     ▼
[9개 카테고리 결과 반환]
     │
     ▼
[콘텐츠 필터링/경고]
```

### 4.6 학습 데이터셋

- **UnSmile 데이터셋** (Smilegate AI)
- 약 18,000개 샘플 (Train/Dev/Test)
- 전문가 어노테이션 기반

### 4.7 상세 문서

AI 모델 관련 상세 문서는 [ai-model/docs](../../ai-model/docs/README.md) 폴더를 참조하세요.

## 5. 개발 환경

### 5.1 기술 스택

#### Frontend (Web)
- **Framework**: Next.js 14+ (App Router)
- **Language**: TypeScript
- **상태관리**: Zustand / React Query
- **스타일링**: Tailwind CSS

#### Backend API (AI Model)
- **Framework**: FastAPI
- **Language**: Python 3.10+
- **ML Framework**: PyTorch
- **모델 서빙**: .pt 파일 로드 및 추론

#### Backend (Main)
- **Framework**: Next.js API Routes
- **ORM**: Prisma
- **Database**: PostgreSQL
- **인증**: NextAuth.js

#### 실시간 서버 (Socket)
- **Runtime**: Node.js
- **Framework**: Express.js
- **Protocol**: Socket.IO (WebSocket)
- **기능**: 실시간 채팅, 알림
- **스케일링**: 동적 할당 (Auto Scaling)

#### 클라우드 (AWS)
- **Compute**: EC2 / ECS (FastAPI, Socket Server)
- **Database**: Amazon RDS (PostgreSQL)
- **Storage**: Amazon S3 (파일 저장)
- **CDN**: CloudFront
- **Hosting**: Vercel (Next.js) 또는 Amplify

### 5.2 시스템 구성도
```
┌─────────────────────────────────────────────────────────────────────┐
│                         사용자 브라우저                              │
└─────────────────────────────────────────────────────────────────────┘
                                 │
                                 │ HTTPS / WSS
                                 ▼
┌─────────────────────────────────────────────────────────────────────┐
│                        AWS Cloud / Vercel                            │
│                                                                      │
│  ┌────────────────┐  ┌─────────────────┐  ┌────────────────────┐   │
│  │   Next.js      │  │   Express.js    │  │     FastAPI        │   │
│  │   (Vercel)     │  │   Socket Server │  │   (AI Model)       │   │
│  │                │  │   (EC2/ECS)     │  │   (EC2/ECS)        │   │
│  │ - SSR/SSG      │  │                 │  │                    │   │
│  │ - API Routes   │  │ - WebSocket     │  │ - .pt 모델 추론    │   │
│  │ - NextAuth.js  │  │ - 동적 할당     │  │ - 감정분석 API     │   │
│  └───────┬────────┘  └────────┬────────┘  └─────────┬──────────┘   │
│          │                    │                      │              │
│          └────────────────────┼──────────────────────┘              │
│                               │                                      │
│                               ▼                                      │
│              ┌────────────────────────────────┐                     │
│              │         PostgreSQL (RDS)       │                     │
│              │            + Prisma            │                     │
│              └────────────────────────────────┘                     │
│                               │                                      │
│              ┌────────────────┼────────────────┐                    │
│              │                │                │                    │
│              ▼                ▼                ▼                    │
│         ┌─────────┐    ┌──────────┐    ┌───────────┐               │
│         │   S3    │    │  Redis   │    │CloudFront │               │
│         │(Storage)│    │ (Cache)  │    │   (CDN)   │               │
│         └─────────┘    └──────────┘    └───────────┘               │
└─────────────────────────────────────────────────────────────────────┘
```

## 6. 향후 계획

### 6.1 Phase 1 (MVP)
- [ ] 사용자 인증 (NextAuth.js)
- [ ] 게시판 기본 CRUD
- [ ] 댓글/대댓글
- [x] AI 혐오 탐지 모델 학습 완료 ✅ (Hamming Accuracy 96.72%)
- [ ] FastAPI AI 모델 서버 구축

### 6.2 Phase 2 (Core Features)
- [ ] 채팅 시스템 (Socket.IO)
- [ ] 친구 관리
- [ ] 첨부파일 업로드
- [ ] 실시간 감정분석 API 연동

### 6.3 Phase 3 (Enhancement)
- [ ] 대시보드 통계
- [ ] 콘텐츠 필터링/경고 시스템
- [ ] AWS 배포

---

**최종 업데이트**: 2026년 1월 30일
