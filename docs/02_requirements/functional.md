# 기능 요구사항

**관련 문서**: [비기능 요구사항](./non-functional.md) | [프로젝트 개요](../01_overview/project-overview.md)

---

## 요구사항 요약

| 분류 | 개수 |
|------|------|
| 사용자 인증 | 6개 |
| 게시판 | 14개 |
| 채팅 | 8개 |
| 친구 관리 | 6개 |
| 대시보드 | 5개 |
| AI 감정분석 | 5개 |
| **총계** | **44개** |

---

## 1. 사용자 인증 (FR-01 ~ FR-06)

### FR-01: 회원가입
| 항목 | 내용 |
|------|------|
| **설명** | 새로운 사용자가 회원가입 |
| **필수입력** | 아이디, 비밀번호, 비밀번호 확인, 이메일, 닉네임 |
| **검증** | 아이디 중복확인, 이메일 중복확인, 비밀번호 규칙 검증 |
| **비밀번호** | 영문, 숫자, 특수문자 포함 8자 이상 |
| **출력** | 검증 완료 후 계정 생성, 환영 이메일 발송 |
| **우선순위** | 필수 |

### FR-02: 로그인
| 항목 | 내용 |
|------|------|
| **설명** | 아이디/비밀번호 또는 소셜 로그인 |
| **방식** | 이메일/비밀번호, OAuth (Google, Kakao, Naver) |
| **기능** | 자동 로그인 옵션, 세션 유지 |
| **출력** | JWT 토큰 발급, 홈 페이지 리다이렉트 |
| **우선순위** | 필수 |

### FR-03: 로그아웃
| 항목 | 내용 |
|------|------|
| **설명** | 현재 세션 종료 |
| **기능** | 토큰 무효화, 로그인 페이지 리다이렉트 |
| **우선순위** | 필수 |

### FR-04: 비밀번호 재설정
| 항목 | 내용 |
|------|------|
| **설명** | 이메일로 비밀번호 재설정 링크 발송 |
| **입력** | 가입된 이메일 |
| **출력** | 재설정 링크 이메일 발송, 새 비밀번호 설정 |
| **우선순위** | 필수 |

### FR-05: 프로필 관리
| 항목 | 내용 |
|------|------|
| **설명** | 사용자 프로필 조회 및 수정 |
| **수정 항목** | 닉네임, 프로필 이미지, 자기소개 |
| **우선순위** | 필수 |

### FR-06: 계정 탈퇴
| 항목 | 내용 |
|------|------|
| **설명** | 사용자 계정 삭제 |
| **조건** | 비밀번호 재확인 필요 |
| **처리** | Soft Delete (30일 후 완전 삭제) |
| **우선순위** | 중요 |

---

## 2. 게시판 (FR-07 ~ FR-20)

### FR-07: 게시글 작성
| 항목 | 내용 |
|------|------|
| **설명** | 새 게시글 작성 |
| **입력** | 제목, 본문, 카테고리, 첨부파일(선택) |
| **기능** | 마크다운 에디터, 이미지 드래그 앤 드롭 |
| **검증** | 제목 2-100자, 본문 10자 이상 |
| **AI 연동** | 작성 시 감정분석 수행, 유해 콘텐츠 경고 |
| **우선순위** | 필수 |

### FR-08: 게시글 조회
| 항목 | 내용 |
|------|------|
| **설명** | 게시글 상세 보기 |
| **표시 항목** | 제목, 본문, 작성자, 작성일, 조회수, 좋아요 수, 댓글 |
| **기능** | 조회수 자동 증가 (중복 방지), 첨부파일 미리보기 |
| **우선순위** | 필수 |

### FR-09: 게시글 수정
| 항목 | 내용 |
|------|------|
| **설명** | 기존 게시글 수정 |
| **권한** | 작성자 본인만 가능 |
| **표시** | 수정 이력 (수정됨) 표시 |
| **우선순위** | 필수 |

### FR-10: 게시글 삭제
| 항목 | 내용 |
|------|------|
| **설명** | 게시글 삭제 |
| **권한** | 작성자 본인 또는 관리자 |
| **처리** | Soft Delete |
| **우선순위** | 필수 |

### FR-11: 게시글 목록
| 항목 | 내용 |
|------|------|
| **설명** | 게시글 목록 조회 |
| **기능** | 페이지네이션, 카테고리 필터, 정렬 (최신/인기/조회수) |
| **표시** | 썸네일, 제목, 작성자, 조회수, 좋아요 수, 댓글 수 |
| **우선순위** | 필수 |

### FR-12: 게시글 검색
| 항목 | 내용 |
|------|------|
| **설명** | 게시글 검색 |
| **검색 대상** | 제목, 본문, 작성자 |
| **기능** | 키워드 검색, 자동완성 |
| **우선순위** | 필수 |

### FR-13: 좋아요
| 항목 | 내용 |
|------|------|
| **설명** | 게시글 좋아요 토글 |
| **기능** | 좋아요/취소, 실시간 좋아요 수 업데이트 |
| **제한** | 로그인 사용자만 가능 |
| **우선순위** | 필수 |

### FR-14: 게시글 공유
| 항목 | 내용 |
|------|------|
| **설명** | 게시글 공유 |
| **기능** | URL 복사, SNS 공유 (Twitter, Facebook, KakaoTalk) |
| **출력** | 공유 링크 생성, OG 태그 지원 |
| **우선순위** | 중요 |

### FR-15: 첨부파일 업로드
| 항목 | 내용 |
|------|------|
| **설명** | 게시글에 파일 첨부 |
| **지원 형식** | 이미지 (jpg, png, gif, webp), 문서 (pdf) |
| **제한** | 파일당 10MB, 게시글당 최대 5개 |
| **기능** | 드래그 앤 드롭, 진행률 표시 |
| **우선순위** | 필수 |

### FR-16: 첨부파일 미리보기
| 항목 | 내용 |
|------|------|
| **설명** | 첨부된 파일 미리보기 |
| **기능** | 이미지 라이트박스, PDF 인라인 뷰어 |
| **우선순위** | 중요 |

### FR-17: 댓글 작성
| 항목 | 내용 |
|------|------|
| **설명** | 게시글에 댓글 작성 |
| **입력** | 댓글 내용 (최대 500자) |
| **AI 연동** | 작성 시 감정분석 수행 |
| **우선순위** | 필수 |

### FR-18: 댓글 수정/삭제
| 항목 | 내용 |
|------|------|
| **설명** | 댓글 수정 및 삭제 |
| **권한** | 작성자 본인 또는 관리자 |
| **우선순위** | 필수 |

### FR-19: 대댓글
| 항목 | 내용 |
|------|------|
| **설명** | 댓글에 대한 답글 작성 |
| **깊이** | 1단계까지만 허용 (대댓글의 대댓글 불가) |
| **표시** | 들여쓰기로 계층 구조 표현 |
| **우선순위** | 필수 |

### FR-20: 조회수
| 항목 | 내용 |
|------|------|
| **설명** | 게시글 조회수 집계 |
| **규칙** | 동일 사용자 24시간 내 중복 조회 미집계 |
| **저장** | IP 또는 사용자 ID 기반 |
| **우선순위** | 필수 |

---

## 3. 채팅 (FR-21 ~ FR-28)

### FR-21: 1:1 채팅방 생성
| 항목 | 내용 |
|------|------|
| **설명** | 친구와 1:1 채팅방 생성 |
| **조건** | 친구 관계 필수 |
| **기능** | 기존 채팅방 있으면 해당 방으로 이동 |
| **우선순위** | 필수 |

### FR-22: 그룹 채팅방 생성
| 항목 | 내용 |
|------|------|
| **설명** | 그룹 채팅방 생성 |
| **입력** | 채팅방 이름, 참여자 목록 (최소 3명) |
| **제한** | 최대 50명 |
| **우선순위** | 필수 |

### FR-23: 텍스트 메시지 전송
| 항목 | 내용 |
|------|------|
| **설명** | 텍스트 메시지 전송 |
| **제한** | 최대 2000자 |
| **AI 연동** | 전송 시 감정분석 수행 |
| **우선순위** | 필수 |

### FR-24: 이모티콘 전송
| 항목 | 내용 |
|------|------|
| **설명** | 이모티콘 전송 |
| **지원** | 기본 이모티콘 팩, 유니코드 이모지 |
| **우선순위** | 필수 |

### FR-25: 사진 전송
| 항목 | 내용 |
|------|------|
| **설명** | 사진 파일 전송 |
| **지원 형식** | jpg, png, gif, webp |
| **제한** | 파일당 10MB |
| **기능** | 썸네일 생성, 원본 다운로드 |
| **우선순위** | 필수 |

### FR-26: 실시간 메시지 동기화
| 항목 | 내용 |
|------|------|
| **설명** | WebSocket 기반 실시간 메시지 수신 |
| **기능** | 읽음 표시, 타이핑 표시, 온라인 상태 |
| **우선순위** | 필수 |

### FR-27: 채팅 목록 조회
| 항목 | 내용 |
|------|------|
| **설명** | 참여 중인 채팅방 목록 |
| **표시** | 채팅방 이름, 마지막 메시지, 시간, 읽지 않은 메시지 수 |
| **정렬** | 최근 메시지 순 |
| **우선순위** | 필수 |

### FR-28: 채팅방 나가기
| 항목 | 내용 |
|------|------|
| **설명** | 채팅방에서 나가기 |
| **처리** | 그룹: 멤버에서 제거 / 1:1: 채팅 기록 유지 |
| **우선순위** | 필수 |

---

## 4. 친구 관리 (FR-29 ~ FR-34)

### FR-29: 친구 검색
| 항목 | 내용 |
|------|------|
| **설명** | 사용자 검색 |
| **검색 대상** | 아이디, 닉네임 |
| **표시** | 프로필 이미지, 닉네임, 친구 상태 |
| **우선순위** | 필수 |

### FR-30: 친구 요청
| 항목 | 내용 |
|------|------|
| **설명** | 친구 요청 전송 |
| **알림** | 상대방에게 실시간 알림 |
| **상태** | 대기/수락/거절 |
| **우선순위** | 필수 |

### FR-31: 친구 요청 수락/거절
| 항목 | 내용 |
|------|------|
| **설명** | 받은 친구 요청 처리 |
| **수락 시** | 양방향 친구 관계 생성 |
| **거절 시** | 요청 삭제, 알림 없음 |
| **우선순위** | 필수 |

### FR-32: 친구 목록 조회
| 항목 | 내용 |
|------|------|
| **설명** | 친구 목록 조회 |
| **표시** | 프로필 이미지, 닉네임, 온라인 상태 |
| **정렬** | 온라인 우선, 가나다순 |
| **우선순위** | 필수 |

### FR-33: 친구 삭제
| 항목 | 내용 |
|------|------|
| **설명** | 친구 관계 삭제 |
| **처리** | 양방향 친구 관계 삭제 |
| **알림** | 상대방에게 알림 없음 |
| **우선순위** | 필수 |

### FR-34: 친구에서 채팅 시작
| 항목 | 내용 |
|------|------|
| **설명** | 친구 목록에서 바로 1:1 채팅 시작 |
| **기능** | 기존 채팅방 있으면 해당 방으로 이동, 없으면 새로 생성 |
| **우선순위** | 필수 |

---

## 5. 대시보드 (FR-35 ~ FR-39)

### FR-35: 사용자 활동 통계
| 항목 | 내용 |
|------|------|
| **설명** | 본인 활동 통계 조회 |
| **표시** | 작성 게시글 수, 댓글 수, 받은 좋아요, 채팅 참여도 |
| **기간** | 오늘, 이번 주, 이번 달, 전체 |
| **시각화** | 라인 차트, 바 차트 |
| **우선순위** | 필수 |

### FR-36: 인기 게시글
| 항목 | 내용 |
|------|------|
| **설명** | 인기 게시글 목록 |
| **기준** | 좋아요 수, 조회수, 댓글 수 종합 |
| **기간** | 오늘, 이번 주, 이번 달 |
| **표시** | 상위 10개 |
| **우선순위** | 필수 |

### FR-37: 최근 활동 내역
| 항목 | 내용 |
|------|------|
| **설명** | 본인 최근 활동 타임라인 |
| **표시** | 작성한 게시글, 댓글, 좋아요 기록 |
| **우선순위** | 필수 |

### FR-38: 알림 센터
| 항목 | 내용 |
|------|------|
| **설명** | 알림 목록 조회 |
| **종류** | 좋아요, 댓글, 친구 요청, 채팅 |
| **기능** | 읽음/안읽음 표시, 클릭 시 해당 페이지 이동 |
| **우선순위** | 필수 |

### FR-39: 커뮤니티 트렌드
| 항목 | 내용 |
|------|------|
| **설명** | 커뮤니티 전체 트렌드 |
| **표시** | 활성 사용자 수, 오늘 게시글 수, 인기 키워드 |
| **우선순위** | 중요 |

---

## 6. AI 감정분석 (FR-40 ~ FR-44)

> **적용 대상**: 한국어 텍스트만 감정분석 수행
> **분석 대상 콘텐츠**: 게시글, 댓글, 대댓글, 채팅 메시지
> **분석 시점**: 사용자가 전송/등록 요청 시 → Next.js → FastAPI 모델 서버 경유

### FR-40: 게시글 감정분석
| 항목 | 내용 |
|------|------|
| **설명** | 게시글 작성 시 텍스트 감정분석 |
| **대상 언어** | 한국어만 |
| **프로세스** | 1. 사용자가 등록 버튼 클릭 → 2. Next.js 서버 수신 → 3. FastAPI 모델 서버 감정분석 → 4. 결과에 따른 분기 처리 |
| **결과 처리** | 악성 표현 감지 시 경고 모달 표시, 사용자가 [수정] 또는 [그대로 등록] 선택 가능 |
| **수정 선택** | 내용 수정 후 재분석, 부정 표현 감소/제거 시 정상 등록 |
| **그대로 등록 선택** | 등록 처리 + 모니터링 대상 자동 등록 |
| **우선순위** | 필수 |

### FR-41: 댓글/대댓글 감정분석
| 항목 | 내용 |
|------|------|
| **설명** | 댓글 및 대댓글 작성 시 텍스트 감정분석 |
| **대상 언어** | 한국어만 |
| **프로세스** | 1. 사용자가 등록 버튼 클릭 → 2. Next.js 서버 수신 → 3. FastAPI 모델 서버 감정분석 → 4. 결과에 따른 분기 처리 |
| **결과 처리** | 악성 표현 감지 시 경고 모달 표시, 사용자가 [수정] 또는 [그대로 등록] 선택 가능 |
| **수정 선택** | 내용 수정 후 재분석, 부정 표현 감소/제거 시 정상 등록 |
| **그대로 등록 선택** | 등록 처리 + 모니터링 대상 자동 등록 |
| **우선순위** | 필수 |

### FR-42: 채팅 메시지 감정분석
| 항목 | 내용 |
|------|------|
| **설명** | 채팅 메시지 전송 시 감정분석 |
| **대상 언어** | 한국어만 |
| **프로세스** | 1. 사용자가 전송 버튼 클릭 → 2. Next.js 서버 수신 → 3. FastAPI 모델 서버 감정분석 → 4. 결과에 따른 분기 처리 |
| **결과 처리** | 악성 표현 감지 시 경고 모달 표시, 사용자가 [수정] 또는 [그대로 전송] 선택 가능 |
| **수정 선택** | 내용 수정 후 재분석, 부정 표현 감소/제거 시 정상 전송 |
| **그대로 전송 선택** | 전송 처리 + 모니터링 대상 자동 등록 |
| **우선순위** | 필수 |

### FR-43: 악성 콘텐츠 모니터링 (관리자)
| 항목 | 내용 |
|------|------|
| **설명** | 관리자용 악성 콘텐츠 모니터링 대시보드 |
| **자동 등록 조건** | 사용자가 악성 표현 경고에도 [그대로 전송/등록] 선택한 콘텐츠 |
| **표시 정보** | 작성자 정보, 콘텐츠 유형(게시글/댓글/채팅), 원문, 감지된 악성 라벨, 신뢰도 점수, 작성 시각 |
| **관리 기능** | 콘텐츠 상세 조회, 삭제/숨김 처리, 사용자 경고/제재, 조치 이력 기록 |
| **통계 기능** | 유해 콘텐츠 감지 건수, 라벨별 분포, 트렌드 차트 |
| **권한** | 시스템 관리자 전용 |
| **우선순위** | 필수 |

### FR-44: 감정분석 경고 모달
| 항목 | 내용 |
|------|------|
| **설명** | 악성 표현 감지 시 사용자에게 표시하는 경고 모달 |
| **표시 조건** | FastAPI 감정분석 결과에서 악성 라벨 감지 시 |
| **모달 내용** | 경고 아이콘, 감지된 악성 표현 종류 및 신뢰도 안내, 수정 권장 메시지 |
| **버튼** | [수정하기] - 에디터로 돌아가 수정 가능, [그대로 등록/전송] - 현재 내용 그대로 처리 |
| **그대로 처리 시** | 백엔드에서 모니터링 대상으로 자동 플래깅 |
| **우선순위** | 필수 |

---

**최종 업데이트**: 2026년 2월 2일
