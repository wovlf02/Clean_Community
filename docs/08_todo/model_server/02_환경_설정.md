# 02. í™˜ê²½ ì„¤ì •

**ê´€ë ¨ ë¬¸ì„œ**: [ê¸°ìˆ  ìŠ¤íƒ](../../03_architecture/tech-stack.md) | [ê°œë°œ í™˜ê²½ ì„¤ì •](../../06_development/setup.md)

---

## ğŸ“‹ ê°œìš”

ì´ ë¬¸ì„œëŠ” FastAPI AI ëª¨ë¸ ì„œë²„ì˜ ê°œë°œ í™˜ê²½ ì„¤ì • ë° ì˜ì¡´ì„± ê´€ë¦¬ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] Python ê°€ìƒí™˜ê²½ ìƒì„±
- [x] requirements.txt ì‘ì„±
- [x] requirements-dev.txt ì‘ì„± (ê°œë°œ ì˜ì¡´ì„±)
- [x] .env.example íŒŒì¼ ìƒì„±
- [x] .gitignore ì„¤ì •
- [x] ì˜ì¡´ì„± ì„¤ì¹˜ ë° í…ŒìŠ¤íŠ¸

---

## 1. Python ë²„ì „

| í•­ëª© | ìš”êµ¬ì‚¬í•­ |
|------|---------|
| **Python** | 3.11.9 |
| **ê¶Œì¥ ë²„ì „** | 3.11.9 (í”„ë¡œì íŠ¸ í‘œì¤€) |

---

## 2. ì˜ì¡´ì„± íŒ¨í‚¤ì§€

### 2.1 requirements.txt

```txt
# FastAPI Framework
fastapi>=0.100.0
uvicorn[standard]>=0.23.0
pydantic>=2.0.0
pydantic-settings>=2.0.0
python-multipart>=0.0.6

# PyTorch & AI/ML
torch>=2.0.0
transformers>=4.30.0
numpy>=1.24.0
scikit-learn>=1.3.0

# HTTP Client (í—¬ìŠ¤ì²´í¬ìš©)
httpx>=0.24.0

# ìœ í‹¸ë¦¬í‹°
python-dotenv>=1.0.0
```

### 2.2 requirements-dev.txt

```txt
# ê°œë°œ ì˜ì¡´ì„±
-r requirements.txt

# í…ŒìŠ¤íŠ¸
pytest>=7.4.0
pytest-asyncio>=0.21.0
pytest-cov>=4.1.0

# ì½”ë“œ í’ˆì§ˆ
black>=23.0.0
isort>=5.12.0
flake8>=6.1.0
mypy>=1.5.0

# íƒ€ì… ìŠ¤í…
types-requests>=2.31.0
```

---

## 3. í™˜ê²½ ë³€ìˆ˜

### 3.1 .env.example

```env
# ======================
# ì„œë²„ ì„¤ì •
# ======================
HOST=0.0.0.0
PORT=8000
DEBUG=false

# ======================
# ëª¨ë¸ ì„¤ì •
# ======================
# ëª¨ë¸ íŒŒì¼ ê²½ë¡œ (ìƒëŒ€ ê²½ë¡œ ë˜ëŠ” ì ˆëŒ€ ê²½ë¡œ)
MODEL_PATH=./models

# HuggingFace ëª¨ë¸ëª… (í† í¬ë‚˜ì´ì € ë¡œë“œìš©)
KCELECTRA_MODEL=beomi/KcELECTRA-base
SOONGSIL_MODEL=soongsil-ai/soongsil-bert-base
ROBERTA_MODEL=klue/roberta-base

# ======================
# ì•™ìƒë¸” ê°€ì¤‘ì¹˜
# ======================
KCELECTRA_WEIGHT=0.35
SOONGSIL_WEIGHT=0.33
ROBERTA_WEIGHT=0.32

# ======================
# ì¶”ë¡  ì„¤ì •
# ======================
MAX_LENGTH=128
BATCH_SIZE=32

# ======================
# CORS ì„¤ì • (Next.js ì—°ë™)
# ======================
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# ======================
# ë¡œê¹…
# ======================
LOG_LEVEL=INFO
```

### 3.2 í™˜ê²½ë³„ ì„¤ì •

| í™˜ê²½ | DEBUG | LOG_LEVEL | ì„¤ëª… |
|------|-------|-----------|------|
| **development** | true | DEBUG | ë¡œì»¬ ê°œë°œ í™˜ê²½ |
| **staging** | false | INFO | ìŠ¤í…Œì´ì§• ì„œë²„ |
| **production** | false | WARNING | í”„ë¡œë•ì…˜ ì„œë²„ |

---

## 4. ê°€ìƒí™˜ê²½ ì„¤ì •

### 4.1 venv ì‚¬ìš©

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd ai_server

# ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv venv

# ê°€ìƒí™˜ê²½ í™œì„±í™” (macOS/Linux)
source venv/bin/activate

# ê°€ìƒí™˜ê²½ í™œì„±í™” (Windows)
# venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# ê°œë°œ ì˜ì¡´ì„± í¬í•¨ ì„¤ì¹˜
pip install -r requirements-dev.txt
```

### 4.2 ì˜ì¡´ì„± ê³ ì •

```bash
# í˜„ì¬ ì˜ì¡´ì„±ì„ requirements.lockìœ¼ë¡œ ì €ì¥
pip freeze > requirements.lock
```

---

## 5. .gitignore

```gitignore
# Python
__pycache__/
*.py[cod]
*$py.class
.Python
venv/
.venv/
env/
.env

# PyTorch ëª¨ë¸ íŒŒì¼ (ìš©ëŸ‰ì´ í¬ë¯€ë¡œ ì œì™¸)
models/*.pt
models/*.bin

# IDE
.idea/
.vscode/
*.swp
*.swo

# í…ŒìŠ¤íŠ¸
.pytest_cache/
.coverage
htmlcov/

# ê¸°íƒ€
.DS_Store
*.log
```

---

## 6. ê°œë°œ ì„œë²„ ì‹¤í–‰

### 6.1 ê¸°ë³¸ ì‹¤í–‰

```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™” í›„
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 6.2 í™˜ê²½ ë³€ìˆ˜ ì§€ì • ì‹¤í–‰

```bash
# .env íŒŒì¼ ìë™ ë¡œë“œ
uvicorn app.main:app --reload
```

---

## 7. GPU ì§€ì› (ì„ íƒ)

### 7.1 CUDA ë²„ì „ í™•ì¸

```bash
# CUDA ë²„ì „ í™•ì¸
nvidia-smi

# PyTorch CUDA ì§€ì› í™•ì¸
python -c "import torch; print(torch.cuda.is_available())"
```

### 7.2 GPUìš© PyTorch ì„¤ì¹˜

```bash
# CUDA 11.8 ê¸°ì¤€
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

---

## ğŸ”— ì°¸ê³  ë¬¸ì„œ

| ë¬¸ì„œ | ê²½ë¡œ | ì„¤ëª… |
|------|------|------|
| ê¸°ìˆ  ìŠ¤íƒ | `docs/03_architecture/tech-stack.md` | FastAPI ë° AI/ML ê¸°ìˆ  ìŠ¤íƒ |
| ê°œë°œ í™˜ê²½ ì„¤ì • | `docs/06_development/setup.md` | ì „ì²´ ê°œë°œ í™˜ê²½ ì„¤ì • ê°€ì´ë“œ |
| í”„ë¡œì íŠ¸ ê°œìš” | `ai-model/docs/01_í”„ë¡œì íŠ¸_ê°œìš”.md` | AI ëª¨ë¸ ê¸°ìˆ  ìŠ¤íƒ |

---

**ì´ì „ ë¬¸ì„œ**: [01_í”„ë¡œì íŠ¸_êµ¬ì¡°.md](./01_í”„ë¡œì íŠ¸_êµ¬ì¡°.md)  
**ë‹¤ìŒ ë¬¸ì„œ**: [03_ëª¨ë¸_ë¡œë”©.md](./03_ëª¨ë¸_ë¡œë”©.md)
